{
    "$schema": "http://json-schema.org/draft-07/schema",
    "title": "StandardizedCode mapping definition",
    "type": "object",
    "properties": {
        "keyTemplate": {
            "type": "string",
            "pattern": "^{{eventType.code}}-{{reason.code}}$",
            "description": "This template is used to build the key before the actual lookup is done in the mapping property. This allows you to rely on a flexible amount of fields in your event. NOTE: We have not implemented templating yet, so you can only use: {{eventType.code}}-{{reason.code}}"
        },
        "allowWildcards": {
            "type": "boolean",
            "description": "Allow the use of wildcards (indicated by '*') in your mapping keys, this can be used for default fallback scenarios for situations where the reason.code is not very strictly defined. You don't need to specify this value, the default is false.",
            "default": false
        },
        "metadata": {
            "$ref": "#/$defs/metadata"
        },
        "reference": {
            "type": "string",
            "description": "This must be the name of the parent folder (by convention). The C# code that performs the actual mapping (Shipping) downloads these from here."
        },
        "mapping": {
            "type": "object",
            "description": "A map that defines the keys (must be unique!) and their resulting StandardizedCode value. The key is generated by running the event through the above defined keyTemplate property",
            "patternProperties": {
                "^.+-.*$": {
                    "type": "object",
                    "properties": {
                        "value": {
                            "description": "One of the allowed tracking event StandardizedCode options. As defined in Roels big Excel: https://shipitsmarterbv.sharepoint.com/:x:/r/sites/CustomersandCarriers/Gedeelde%20documenten/General/Carriers/tracking-event-codes.xlsm?d=wc7adf7092a014da0ace002a85243c1ef&csf=1&web=1&e=6mKaiI). ",
                            "enum": ["BookingRequested","BookingAccepted","BookingRefused","BookingFailed","BookingCancelledNoActivity","BookingCancelledIncorrectInformation","BookingCancelledOther","BookingChangeRequestedAddressChange","BookingChangeRequestedServiceLeveLChange","BookingChangeRequestedIncotermChange","BookingChangeRequestedWeightOrDimensionChange","BookingChangeRequestedOther","BookingChangeAccepted","BookingChangeRefusedCannotChangeAnymore","BookingChangeRefusedOther","BookingChangeFailed","BookingChangeCompleted","BookingChangeCancelled","PickupParcelShopRequested","PickupParcelShopCancelled","PickupParcelShopArrived","PickupParcelShopCollected","PickupRequested","PickupRequestedCommercial","PickupRequestedCustomerPickup","PickupRequestedCustomerPickupDamaged","PickupRequestedCustomerPickupIncomplete","PickupRequestedResidentialPickup","PickupPlannedScheduled","PickupPlannedRescheduledOnRequestOfRecipient","PickupPlannedRescheduledOnRequestOfShipper","PickupPlannedRescheduledOnRequestOfCarrier","PickupPlannedRescheduled","PickupPlannedOther","PickupArrived","PickupCompleted","PickupCompletedIncomplete","PickupCompletedDamaged","PickupCompletedCustomerPickup","PickupFailedLocationClosed","PickupFailedLocationCannotBeReached","PickupFailedGoodsNotReady","PickupFailedGoodsLost","PickupFailedIncompleteInformation","PickupFailedMissedPickupWindow","PickupFailedOther","PickupDelayed","PickupDelayedBookedAfterPickupWindow","PickupDelayedTraffic","PickupDelayedWaitingForConsignment","PickupDelayedWaitingToBeCompleted","PickupCancelledByShipper","PickupCancelledByCarrier","PickupCancelledByRecipient","PickupCancelledNoPartyIndicated","TransitTransport","TransitEtaUpdate","TransitHubActivity","TransitHubActivityArrived","TransitHubActivityDeparted","TransitHubActivityDepartedDamaged","TransitHubActivityDepartedPartiallyMissing","TransitAtDestinationHub","TransitHandoverToOtherCarrier","CustomsAvailable","CustomsInProgress","CustomsDelayedIncorrectOrMissingInformation","CustomsDelayedIncomplete","CustomsDelayedPendingDutiesTaxesPaymentRecipient","CustomsDelayedPendingDutiesTaxesPaymentShipper","CustomsDelayedCarrierDelayed","CustomsDelayedAdditionalInformationRequiredRecipient","CustomsDelayedOther","CustomsFailed","CustomsFailedDestroyedByRegulation","CustomsReleased","DeliveryAppointmentRequested","DeliveryAppointmentPlanned","DeliveryAppointmentFailed","DeliveryAppointmentFailedMissingContactDetails","DeliveryAppointmentFailedNoResponseFromRecipient","DeliveryAppointmentRescheduled","DeliveryAppointmentRescheduledOnRequestOfCarrier","DeliveryAppointmentRescheduledOnRequestOfRecipient","DeliveryAppointmentCancelled","DeliveryAppointmentCancelledOnRequestOfCarrier","DeliveryAppointmentCancelledOnRequestOfRecipient","DeliveryPlannedRescheduledOnRequestOfRecipient","DeliveryPlannedRescheduledOnRequestOfShipper","DeliveryPlannedRescheduledOnRequestOfCarrier","DeliveryPlannedRescheduled","DeliveryPlannedArrivalNoticeProvided","DeliveryPlannedOther","DeliveryEtaUpdate ","DeliveryInProgressOutForDelivery","DeliveryInProgressShortDistance","DeliveryInProgressArrived","DeliveryInProgressUnloaded","DeliveryInProgress","DeliveryCompletedPartly","DeliveryCompletedPartlyMissing","DeliveryCompletedPartlyDamaged","DeliveryCompletedPartlyCustomerPickup","DeliveryCompleted","DeliveryCompletedAtNeighbour ","DeliveryCompletedAtReceiver","DeliveryCompletedAtCommercialLocation","DeliveryCompletedAtPlaceUnattended","DeliveryCompletedWithPermissionToLeaveGoods","DeliveryCompletedManuallyRegistered","DeliveryCompletedOther","DeliveryCompletedConsgineeIndicatesSurplus","DeliveryCompletedConsigneeIndicatesMissing","DeliveryCompletedDelayed","DeliveryFailedLocationUnavailable","DeliveryFailedContactCarrier","DeliveryFailedAbsentRecipient","DeliveryFailedRecipientClosed","DeliveryFailedNoValidRecipient","DeliveryFailedAccessCodeMissing","DeliveryFailedOther","DeliveryFailedAdditionalEquipmentRequired","DeliveryFailedRefusedByRecipientRequestedOtherDeliveryDate","DeliveryFailedRefusedByRecipient","DeliveryFailedRefusedByRecipientIncorrectContactDetails","DeliveryFailedDamaged","DeliveryFailedRefusedByRecipientDamaged","DeliveryFailedRefusedByRecipientNotOrdered","DeliveryFailedRefusedByRecipientMissingDocuments","DeliveryFailedRefusedByRecipientInventory","DeliveryFailedRefusedByRecipientLateDelivery","DeliveryFailedRefusedByRecipientShipmentIncomplete","DeliveryFailedRefusedByRecipientIncompleteDueToMissing","DeliveryFailedRefusedByRecipientCancelled","DeliveryFailedWaitingTimeExceeded","DeliveryFailedRecipientMoved","DeliveryParcelShopPlanned","DeliveryParcelShopArrived","DeliveryParcelShopArrivalFailedParcelShopClosed","DeliveryParcelShopArrivalFailedCannotBeReached","DeliveryParcelShopArrivalFailedOther","DeliveryParcelShopAvailableForCollection","DeliveryParcelShopAvailableForCollectionReminder","DeliveryParcelShopCollected","DeliveryParcelShopReturnedToSenderNotCollected","DeliveryParcelShopReturnedToSenderNoSpaceAvailable","DeliveryLockerPlanned","DeliveryLockerArrivalFailedNoEmptyLockerAvailable","DeliveryLockerArrivalFailedDoesNotFitInLocker","DeliveryLockerArrivalFailedOther","DeliveryLockerAvailableForCollection","DeliveryLockerAvailableForCollectionReminder","DeliveryLockerCollected","DeliveryLockerReturnedToSender","ReturnRequested","ReturnCollected","ReturnCancelled","ReturnCancelledByCustomer","ReturnCancelledByShipper","ReturnOther","ReturnParcelShopRequested","ReturnParcelShopAvailableForCollection","ReturnParcelShopCollected","ReturnParcelShopCancelled","CashOnDeliveryRequested","CashOnDeliveryFundsCollected","CashOnDeliveryFailed","CashOnDeliveryFundsTransferred","ExceptionMissing","ExceptionMissingAtUnloadingIntermediateHub","ExceptionMissingUnderInvestigationCarrier","ExceptionMissingUnderInvestigationShipper","ExceptionMissingUnderInvestigationRecipient","ExceptionMissingLost","ExceptionDamagedinTransit","ExceptionDamagedinHub","ExceptionDamagedUnderInvestigation","ExceptionDamagedUnderInvestigationCarrier","ExceptionDamagedRequiresInputShipper","ExceptionDamagedRequiresInputReceiver","ExceptionDamagedReturnToSender","ExceptionDamagedDestroyed","ExceptionDamagedDestroyedOnRequestOfShipper","ExceptionDamagedDestroyedByRegulation","ExceptionDamagedDelivered","ExceptionDelayedBankHoliday","ExceptionDelayedAdministrativeRectivication","ExceptionDelayedAdditionalEquipmentRequired","ExceptionDelayedDeliveryAppointmentRequired","ExceptionDelayedEquipmentFailure","ExceptionDelayedForceMajeure","ExceptionDelayedIncorrectLabelling","ExceptionDelayedIncorrectAddress","ExceptionDelayedIncorrectShipmentInformation","ExceptionDelayedIndustrialDispute","ExceptionDelayedLackOfTransportCapacity","ExceptionDelayedLackOfUnloadingSpace","ExceptionDelayedMissingDocuments","ExceptionDelayedMissingDocumentsFromShipper","ExceptionDelayedMissingDocumentsFromCarrier","ExceptionDelayedNotLoadedAsBondedGoods","ExceptionDelayedNotLoadedAsDangerousGoods","ExceptionDelayedOversizeOverweight","ExceptionDelayedWrongRouting","ExceptionDelayedTemperatureExceeded","ExceptionDelayedWaitingForEdi","ExceptionDelayedMissedConnection","ExceptionDelayedGeneralTimeConstraint","ExceptionDelayedUnknown","ExceptionDelayedOther","ExceptionDelayedAccident","ExceptionDelayedContactCarrierMissingInformation","ExceptionDelayedContactCarrierByShipper","ExceptionDelayedContactCarrierByRecipient","ExceptionDelayedMissing","ExceptionDelayedMissingUnderInvestigation","ExceptionDelayedWeatherConditions","ExceptionDelayedSecurityChecks","ExceptionDelayedDestroyedHeavilyDamaged","ExceptionDelayedDestroyedOnRequestOfShipper","ExceptionReturnToSenderUncollectedFromPickupPoint","ExceptionReturnToSenderRefusedAtDelivery","ExceptionReturnToSenderUnknownAddress","ExceptionReturnToSenderPartially","ExceptionReturnToSenderOther","ExceptionReturnToSenderDamaged","ExceptionReturnToSenderIncident","ExceptionReturnToSenderCancelledByShipper","ExceptionReturnToSenderCustomsInspectionResult","ExceptionOther","ClaimRequested","ClaimPlanned","ClaimStarted","ClaimDelayed","ClaimDelayedAdditionalInformationRequiredFromShipper","ClaimDelayedAdditionalInformationRequiredFromRecipient","ClaimRejected","ClaimAccepted","ClaimCancelledByShipper","ClaimCancelledByCarrier","ClaimCancelledByRecipient","ClaimReembursed","Other"]
                        },
                        "metadata": {
                            "$ref": "#/$defs/metadata"
                        }
                    },
                    "additionalProperties": false
                },
                "additionalProperties": false
            }
        }
    },
    "required": ["keyTemplate", "metadata", "reference", "mapping"],
    "additionalProperties": false,
    "$defs": {
        "metadata": {
            "type": "object",
            "description": "Free key/value pairs that can be used on - for example - the https://viya.me website. These fields do not influence the mapping process itself."
        }
    }
}
